<!DOCTYPE html>
<html>
<head>
    <title>GameEngine Tests</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #1a1a1a; color: #0f0; }
        .pass { color: #0f0; }
        .fail { color: #f00; }
    </style>
</head>
<body>
    <h1>GameEngine Tests</h1>
    <div id="results"></div>

    <script type="module">
        import { GameEngine } from '../../src/engine/GameEngine.js';

        const results = [];

        function test(name, fn) {
            try {
                fn();
                results.push({ name, status: 'pass' });
            } catch (error) {
                results.push({ name, status: 'fail', error: error.message });
            }
        }

        function assert(condition, message) {
            if (!condition) throw new Error(message || 'Assertion failed');
        }

        // Test: Engine initializes with default state
        test('GameEngine initializes with default state', () => {
            const engine = new GameEngine();
            assert(engine.state !== undefined, 'Engine should have state');
            assert(engine.state.running === false, 'Engine should not be running initially');
        });

        // Test: Engine can start and stop
        test('GameEngine can start', () => {
            const engine = new GameEngine();
            engine.start();
            assert(engine.state.running === true, 'Engine should be running after start');
        });

        test('GameEngine can stop', () => {
            const engine = new GameEngine();
            engine.start();
            engine.stop();
            assert(engine.state.running === false, 'Engine should stop');
        });

        // Render results
        const resultsDiv = document.getElementById('results');
        results.forEach(r => {
            const div = document.createElement('div');
            div.className = r.status;
            div.textContent = `${r.status.toUpperCase()}: ${r.name}`;
            if (r.error) div.textContent += ` - ${r.error}`;
            resultsDiv.appendChild(div);
        });
    </script>
</body>
</html>
